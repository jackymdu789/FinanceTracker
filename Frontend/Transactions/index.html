<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Finance Tracker</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- <link rel="stylesheet" href="styles.css" /> -->
  </head>
  <body>
    <!-- Navbar -->
    <div id="nav"></div>

    <!-- Main Content -->
    <div class="container mt-4">
      <!-- Dashboard Section -->
      <section id="dashboard" class="mb-5">
        <h2>Dashboard</h2>
        <div class="row">
          <div class="col-md-6">
            <div class="card mb-4">
              <img
                src="https://via.placeholder.com/600x300?text=AI+Generated+Image"
                class="card-img-top"
                alt="Dashboard Overview"
              />
              <div class="card-body">
                <h5 class="card-title">Overview</h5>
                <p class="card-text">
                  Get a summary of your financial status with key metrics and
                  trends.
                </p>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="card mb-4">
              <img
                src="https://via.placeholder.com/600x300?text=AI+Generated+Chart"
                class="card-img-top"
                alt="Financial Chart"
              />
              <div class="card-body">
                <h5 class="card-title">Financial Chart</h5>
                <p class="card-text">
                  Visualize your income, expenses, and savings with interactive
                  charts.
                </p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Transactions Section -->
      <section id="transactions" class="mb-5">
        <h2>Transactions</h2>
        <div id="loading-logo">
          <div id="loading-spinner" class="d-flex justify-content-center align-items-center" style="height: 100px;">
            <div class="spinner-border" role="status">
              <!-- <span class="sr-only">Loading...</span> -->
            </div>
          </div>
        </div>
        <div id="bodyOfTransactionTable" style="display: none;">
        <div class="sidebar" style="display: flex; justify-content: end">
          <div class="btn-group" role="group" aria-label="Transaction Filters">
            <button
              type="button"
              class="btn btn-outline-primary"
              onclick="filterTransactions('all')"
            >
              Display All
            </button>
            <button
              type="button"
              class="btn btn-outline-primary"
              onclick="filterTransactions('expense')"
            >
              Display Expenses
            </button>
            <button
              type="button"
              class="btn btn-outline-primary"
              onclick="filterTransactions('income')"
            >
              Display Income
            </button>
          </div>
        </div>
        <!-- Bootstrap Modal for Image View -->
        <div class="modal fade" id="imageModal" tabindex="-1" aria-labelledby="imageModalLabel" aria-hidden="true">
          <div class="modal-dialog modal-lg">
              <div class="modal-content">
                  <div class="modal-header">
                      <h5 class="modal-title" id="imageModalLabel">View Image</h5>
                      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body">
                      <img id="modalImage" src="" class="img-fluid" alt="Large view" />
                  </div>
                  <div class="modal-footer">
                      <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                  </div>
              </div>
          </div>
        </div>

        <table class="table table-striped">
          <thead>
            <tr>
              <th>Date</th>
              <th>Tag</th>
              <th>Amount</th>
              <th>Type</th>
              <th>Image</th>
            </tr>
          </thead>
          <tbody id="transactionBody">
            <!-- <tr>
                        <td>2024-07-30</td>
                        <td>Salary</td>
                        <td>$3,500.00</td>
                        <td>Credit</td>
                    </tr>
                    <tr>
                        <td>2024-07-28</td>
                        <td>Groceries</td>
                        <td>$150.00</td>
                        <td>Debit</td>
                    </tr>
                    <tr>
                        <td>2024-07-25</td>
                        <td>Rent</td>
                        <td>$1,200.00</td>
                        <td>Debit</td>
                    </tr> -->
          </tbody>
        </table>
        <button class="m-2bt btn btn-secondary">
          <a href="transactionForm.html" class="text-light nav-link"
            >Add New Transaction</a
          >
        </button>
      </div>
      </section>
      
    </div>
    <script type="module" src="proctedRoute.js"></script>
    <script type="module" src="index.js"></script>
    <script>
      const handleClose = () => {
        sessionStorage.clear();
        window.location.reload();
      };
      function filterTransactions(type) {
        const rows = document.querySelectorAll("#transactionBody tr");
        rows.forEach((row) => {
          if (type === "all") {
            row.style.display = "";
          } else if (row.classList.contains(type)) {
            row.style.display = "";
          } else {
            row.style.display = "none";
          }
        });
      }
      function openImageModal(imageUrl) {
        const modalImage = document.getElementById('modalImage');
        modalImage.src = imageUrl;
      }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/jwt-decode@3.1.2/build/jwt-decode.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="nav.js"></script>
  </body>
</html>
